<head>
    <title>Guerre des Carr√©s</title>
    <meta charset="utf-8">
    <style>
        .square {
        height: 50px;
        width: 50px;
        background-color: none;
        float:left;
        position: absolute;
        }
        .head {
        text-align: center;
        font-family: fantasy;
        font-size: 200px;
        color: aquamarine;
        }
        .overlay{
        opacity: 0;
        transition: .2s ease;
        height: 100%;
        width: 100%;
        background-color: silver;
        font-size: 80%;
        }
        .overlay:hover{
        opacity:1;
        }
    </style>
    <script>

    </script>
</head>
<body>
    <script src="/socket.io/socket.io.js"></script>
    <script>
        var socket = io();
        var color=0;
        var list = document.getElementsByClassName("square");

        function submit(id,bgcolor){
            socket.emit('update',id,bgcolor)
        }
        for (var item of list) {
            item.style.backgroundColor=color;
        }

        
        let colors = ['black', 'white', 'gray', 'silver', 'maroon', 'red', 'purple', 'green', 'lime', 'olive', 'yellow', 'navy', 'blue', 'teal', 'aqua']
        
        function changing(square) {
            color=color+1;
            if(color===15){
                color=0
            }
            square.style.setProperty(backgroundColor,colors[color])
            console.log(colors[color])
            submit(square.id,getComputedStyle(square).backgroundColor)
        }
        function showing(parent,element){
            texttoshow=getComputedStyle(parent).backgroundColor
            element.innerHTML = texttoshow;
        }
    </script>
    <div>
        <h1 class="head">
            Bienvenue
        </h1>
            <div class="square" onclick="changing(this)" color="this.style.background-color" id="0,0">
                <div class="overlay" onmouseover="showing(this.parentElement,this)"></div>
            </div>
        <div id="info"></div>
        
    </div>
</body>